!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.PersianDate=e():t.PersianDate=e()}(window,(function(){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"c",(function(){return a})),r.d(e,"b",(function(){return s}));const i={jalali:{months:{1:"فروردین",2:"اردیبهشت",3:"خرداد",4:"تیر",5:"مرداد",6:"شهریور",7:"مهر",8:"آبان",9:"آذر",10:"دی",11:"بهمن",12:"اسفند"},days:{label:{6:"شنبه",0:"یکشنبه",1:"دوشنبه",2:"سه‌شنبه",3:"چهارشنبه",4:"پنجشنبه",5:"جمعه"},weekNumber:{6:0,0:1,1:2,2:3,3:4,4:5,5:6}},ordinalNumbers:function(t,e){const r={1:"یک",2:"دو",3:"سو",4:"چهار",5:"پنج",6:"شش",7:"هفت",8:"هشت",9:"نه",10:"ده",11:"یازده",12:"دوازده",13:"سیزده",14:"چهارده",15:"پانزده",16:"شانزده",17:"هفده",18:"هجده",19:"نوزده",20:"بیست",30:"سی‌",40:"چهل",50:"پنجاه",60:"شصت",70:"هفتاد",80:"هشتاد",90:"نود",100:"صد",200:"دویست",300:"سیصد"};let i="";if(1==t)i="اول";else if(r[t])i=r[t]+(30==t?"ام":"م");else{let e=t%10;e&&(i=r[e]+"م"),e=(t-e)%100,e&&(i=r[e]+(i?" و "+i:30==e?"ام ":"م")),e=100*Math.floor(t/100),e&&(i=r[e]+(i?" و "+i:"م"))}return 2==e&&(i+="ین"),i}},gregorian:{months:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},days:{label:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},weekNumber:{0:0,1:1,2:2,3:3,4:4,5:5,6:6}},ordinalNumbers:function(t){return 1==t||t%10==1&&11!=t?t+"st":2==t||t%10==2&&12!=t?t+"nd":3==t||t%10==3&&13!=t?t+"rd":t+"th"}}},s={format:/j*(YYYY|YY|y|Qo|QO|Q|MMMM|MMM|MM|Mo|MO|M|DDDD|DDDo|DDDO|DDD|DD|Do|DO|D|dddd|ddd|dd|do|dO|de|d|ww|WW|wo|Wo|wO|WO|w|W|HH|hh|H|h|kk|k|mm|m|ss|s|CCCC|CCC|c|t|aa|a|A)/g,isNumeric:/^\d+$/,separators:"\\/| |-|\\.|,|:",betweenBacktick:/`(.*?)`/g},a=function(t,e){return t>=0&&t<12?"a"==e?"am":"aa"==e?"A.M.":"A"==e?"AM":"ja"==e?"ق ظ":"jaa"==e?"ق.ظ":"jA"==e?"قبل از ظهر":"ق.ظ":t>=12&&t<24?"a"==e?"pm":"aa"==e?"P.M.":"A"==e?"PM":"ja"==e?"ب ظ":"jaa"==e?"ب.ظ":"jA"==e?"بعد از ظهر":"ب.ظ":void 0}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _utils_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0);const PersianDate=function(date,calendar){this.d={},this.c="jalali";const gtj=(t,e,r,i,s,a,n)=>{let o,h,d,u;o=t?"[object Date]"===Object.prototype.toString.call(t)?t:new Date(t,e||0,r||1,i||0,s||0,a||0,n||0):new Date,r=o.getDate(),e=o.getMonth()+1,t=o.getFullYear(),i=o.getHours(),s=o.getMinutes(),a=o.getSeconds(),n=o.getMilliseconds();t>1600?(h=979,t-=1600):(h=0,t-=621);let l=e>2?t+1:t,c=365*t+parseInt((l+3)/4)-parseInt((l+99)/100)+parseInt((l+399)/400)-80+r+[0,31,59,90,120,151,181,212,243,273,304,334][e-1];return h+=33*parseInt(c/12053),c%=12053,h+=4*parseInt(c/1461),c%=1461,c>365&&(h+=parseInt((c-1)/365),c=(c-1)%365),d=c<186?1+parseInt(c/31):7+parseInt((c-186)/30),u=1+(c<186?c%31:(c-186)%30),[h,d,u,i,s,a,n]},jtg=(t,e,r,i,s,a,n)=>{let o,h,d;e=+e||1,r=+r||1,i=+i||0,s=+s||0,a=+a||0,n=+n||0,(t=+t)>979?(o=1600,t-=979):o=621;let u=365*t+8*parseInt(t/33)+parseInt((t%33+3)/4)+78+r+(e<7?31*(e-1):30*(e-7)+186);o+=400*parseInt(u/146097),u%=146097,u>36524&&(o+=100*parseInt(--u/36524),u%=36524,u>=365&&u++),o+=4*parseInt(u/1461),u%=1461,u>365&&(o+=parseInt((u-1)/365),u=(u-1)%365),d=u+1;let l=[0,31,o%4==0&&o%100!=0||o%400==0?29:28,31,30,31,30,31,31,30,31,30,31];for(h=0;h<13;h++){let t=l[h];if(d<=t)break;d-=t}return new Date(o,h-1,d,i,s,a,n)},getDayLabel=(t=new Date,e="jalali")=>"[object Date]"===Object.prototype.toString.call(t)?_utils_js__WEBPACK_IMPORTED_MODULE_0__.a[e].days.label[t.getDay()]:showError("تاریخ نامعتبر",this),getDayOfWeek=(t=new Date,e="jalali",r="standard")=>"[object Date]"===Object.prototype.toString.call(t)?_utils_js__WEBPACK_IMPORTED_MODULE_0__.a[e].days.weekNumber[t.getDay()]+("standard"!=r?0:1):showError("تاریخ نامعتبر",this),getDayOfYear=(t,e,r,i)=>{for(e=+e,r=+r;0!=--e;)r+=new PersianDate([t,e],i).getDaysInMonth();return r},getWeekOfYear=(t,e,r,i)=>{let s="jalali"==i?"jd":"d",a=(new PersianDate).calendar(i).parse(t),n=a.date(s),o=a.clone().parse(t,e,r);n>3&&a.addDay(7-n);let h=Math.ceil(o.diff(a,"date",!0)/7),d=o.clone().getWeeksInYear();return h>d?d:h},ordinalNumber=(t,e="jalali",r=1)=>_utils_js__WEBPACK_IMPORTED_MODULE_0__.a[e].ordinalNumbers(t,r),addPrefix=(t,e,r="0")=>r.repeat(e-String(t).length)+t,showError=(t,e)=>(delete e.d,e.error=t,t);PersianDate.prototype.now=function(){this.error&&(delete this.error,this.d={});let t=new Date;return"jalali"==this.c?setJalaliDate(gtj(t),this):setGregorianDate(t,this),this},PersianDate.prototype.setDate=function(...t){return deprecate('"setDate" function is deprecated! use "fromGregorian" function instead.\nhttps://alireza-ab.ir/persian-date/create-and-parse#from-gregorian-date'),this.fromGregorian(...t)},PersianDate.prototype.parse=function(...t){return"jalali"==this.c?this.fromJalali(...t):this.fromGregorian(...t)},PersianDate.prototype.isLeapYear=function(t){if(this.error)return!1;if(t||(t=this.year()),"jalali"==this.c){return(t>1342?[1,5,9,13,17,22,26,30]:[1,5,9,13,17,21,26,30]).includes(t%33)}return t%4==0&&t%100!=0||t%400==0},PersianDate.prototype.isValid=function(t,e,r,i,s,a,n){return!this.error&&(this.isValidDate(t,e,r)&&this.isValidTime(i,s,a,n))},PersianDate.prototype.isValidDate=function(t,e,r){if(this.error)return!1;if(t||(t=this.d.year,e=this.d.month,r=this.d.date),[t,e,r].some(t=>-1!=String(t).search(/null|NaN/)))return!1;if(t<0||e>12||e<1||r>31||r<1)return!1;if("jalali"==this.c){if(e>=7&&e<=11&&31==r)return!1;if(12==e&&31==r)return!1;if(12==e&&30==r&&!this.isLeapYear(t))return!1}else{if([2,4,6,9,11].includes(e)&&31==r)return!1;if(2==e&&(30==r||29==r&&!this.isLeapYear(t)))return!1}return!0},PersianDate.prototype.isValidTime=function(t,e,r,i){return!this.error&&(null==t&&(t=this.d.hour,e=this.d.minute,r=this.d.second,i=this.d.millisecond),![t,e,r,i].some(t=>-1!=String(t).search(/null|NaN/))&&(!(t<0||t>23)&&(!(e<0||e>59)&&(!(r<0||r>59)&&!(i<0||i>999)))))},PersianDate.prototype.getDaysInMonth=function(t=this.d.year,e=this.d.month){return this.error?this.error:"jalali"==this.c?e>=1&&e<=6?31:e>6&&e<=11||this.isLeapYear(t)?30:29:[1,3,5,7,8,10,12].includes(e)?31:2==e?this.isLeapYear(t)?29:28:30},PersianDate.prototype.addYear=function(t=1,e=!0){if(this.error)return this.error;if(!t)return this;if(t<0)return this.subYear(Math.abs(t));for(this.d.year+=+t;e&&!this.isValidDate();)this.subDay(1,!1);return this},PersianDate.prototype.addMonth=function(t=1,e=!0){if(this.error)return this.error;if(!t)return this;if(t<0)return this.subMonth(Math.abs(t));t=+t;let r=12-this.d.month+1;if(r>t)this.d.month+=t;else{for(this.addYear(1,!1),this.d.month=1,t-=r;t>=12;)t-=12,this.addYear(1,!1);0!=t&&(this.d.month+=t)}for(;e&&!this.isValidDate();)this.subDay(1,!1);return this},PersianDate.prototype.addDay=function(t=1,e=!0){if(this.error)return this.error;if(!t)return this;if(t<0)return this.subDay(Math.abs(t));t=+t;let r=this.getDaysInMonth()-this.d.date+1;if(r>t)this.d.date+=t;else{for(this.addMonth(1,!1),this.d.date=1,t-=r;t>=this.getDaysInMonth();)t-=this.getDaysInMonth(),this.addMonth(1,!1);0!=t&&(this.d.date+=t)}for(;e&&!this.isValidDate();)this.subDay(1,!1);return this},PersianDate.prototype.addQuarter=function(t=1,e=!0){return this.error?this.error:t?t<0?this.subQuarter(Math.abs(t)):(t=+t,this.addMonth(3*t,e)):this},PersianDate.prototype.addWeek=function(t=1,e=!0){return this.error?this.error:t?t<0?this.subWeek(Math.abs(t)):(t=+t,this.addDay(7*t,e)):this},PersianDate.prototype.addHour=function(t=1,e=!0){if(this.error)return this.error;if(!t)return this;if(t<0)return this.subHour(Math.abs(t));for(t=+t;t>=24;)t-=24,this.addDay(1,!1);let r=24-this.d.hour;for(t>=r?(this.addDay(1,!1),t-=r,this.d.hour=t):this.d.hour+=t;e&&!this.isValidTime();)this.subMillisecond(1,!1);return this},PersianDate.prototype.addMinute=function(t=1,e=!0){if(this.error)return this.error;if(!t)return this;if(t<0)return this.subMinute(Math.abs(t));for(t=+t;t>=60;)this.addHour(1,!1),t-=60;let r=60-this.d.minute;for(t>=r?(this.addHour(1,!1),t-=r,this.d.minute=t):this.d.minute+=t;e&&!this.isValidTime();)this.subMillisecond(1,!1);return this},PersianDate.prototype.addSecond=function(t=1,e=!0){if(this.error)return this.error;if(!t)return this;if(t<0)return this.subSecond(Math.abs(t));for(t=+t;t>=60;)this.addMinute(1,!1),t-=60;let r=60-this.d.second;for(t>=r?(this.addMinute(1,!1),t-=r,this.d.second=t):this.d.second+=t;e&&!this.isValidTime();)this.subMillisecond(1,!1);return this},PersianDate.prototype.addMillisecond=function(t=1,e=!0){if(this.error)return this.error;if(!t)return this;if(t<0)return this.subMillisecond(Math.abs(t));for(t=+t;t>=1e3;)this.addSecond(1,!1),t-=1e3;let r=1e3-this.d.millisecond;for(t>=r?(this.addSecond(1,!1),t-=r,this.d.millisecond=t):this.d.millisecond+=t;e&&!this.isValidTime();)this.subMillisecond(1,!1);return this},PersianDate.prototype.subYear=function(t=1,e=!0){if(!t)return this;for(this.d.year-=t=Math.abs(t);e&&!this.isValidDate();)this.subDay(1,!1);return this},PersianDate.prototype.subMonth=function(t=1,e=!0){if(this.error)return this.error;if(!t)return this;t=Math.abs(t);let r=this.d.month;if(r>t)this.d.month-=t;else{for(this.subYear(1,!1),this.d.month=12,t-=r;t>=12;)this.subYear(1,!1),t-=12;0!=t&&(this.d.month-=t)}for(;e&&!this.isValidDate();)this.subDay(1,!1);return this},PersianDate.prototype.subDay=function(t=1,e=!0){if(this.error)return this.error;if(!t)return this;t=Math.abs(t);let r=this.d.date;if(r>t)this.d.date-=t;else{for(this.subMonth(1,!1),this.d.date=this.getDaysInMonth(),t-=r;t>=this.getDaysInMonth();)t-=this.getDaysInMonth(),this.subMonth(1,!1);this.d.date=this.getDaysInMonth()-t}for(;e&&!this.isValidDate();)this.subDay(1,!1);return this},PersianDate.prototype.subQuarter=function(t=1,e=!0){return this.error?this.error:t?(t=Math.abs(t),this.subMonth(3*t,e)):this},PersianDate.prototype.subWeek=function(t=1,e=!0){return this.error?this.error:t?(t=Math.abs(t),this.subDay(7*t,e)):this},PersianDate.prototype.subHour=function(t=1,e=!0){if(this.error)return this.error;if(!t)return this;for(t=Math.abs(t);t>=24;)t-=24,this.subDay(1,!1);let r=this.d.hour;for(t>r?(this.subDay(1,!1),t-=r,this.d.hour=24-t):this.d.hour-=t;e&&!this.isValidTime();)this.subMillisecond(1,!1);return this},PersianDate.prototype.subMinute=function(t=1,e=!0){if(this.error)return this.error;if(!t)return this;for(t=Math.abs(t);t>=60;)t-=60,this.subHour(1,!1);let r=this.d.minute;for(t>r?(this.subHour(1,!1),t-=r,this.d.minute=60-t):this.d.minute-=t;e&&!this.isValidTime();)this.subMillisecond(1,!1);return this},PersianDate.prototype.subSecond=function(t=1,e=!0){if(this.error)return this.error;if(!t)return this;for(t=Math.abs(t);t>=60;)t-=60,this.subMinute(1,!1);let r=this.d.second;for(t>r?(this.subMinute(1,!1),t-=r,this.d.second=60-t):this.d.second-=t;e&&!this.isValidTime();)this.subMillisecond(1,!1);return this},PersianDate.prototype.subMillisecond=function(t=1,e=!0){if(this.error)return this.error;if(!t)return this;for(t=Math.abs(t);t>=1e3;)t-=1e3,this.subSecond(1,!1);let r=this.d.millisecond;for(t>r?(this.subSecond(1,!1),t-=r,this.d.millisecond=1e3-t):this.d.millisecond-=t;e&&!this.isValidTime();)this.subMillisecond(1,!1);return this},PersianDate.prototype.toString=function(t="date"){if(this.error)return this.error;let e=[];t=t.replace(_utils_js__WEBPACK_IMPORTED_MODULE_0__.b.betweenBacktick,(t,r)=>(e.push(r),"###"));let r=(t="jalali"==this.c?t.replace(/datetime/gi,"jYYYY/jMM/jDD HH:mm").replace(/date/gi,"jYYYY/jMM/jDD").replace(/time/gi,"HH:mm"):t.replace(/datetime/gi,"YYYY-MM-DD HH:mm").replace(/date/gi,"YYYY-MM-DD").replace(/time/gi,"HH:mm")).match(_utils_js__WEBPACK_IMPORTED_MODULE_0__.b.format),i="";for(const e of r)i+=t.substring(0,t.indexOf(e)),-1!=e.search(/Y|y/)?i+=this.year(e):-1!=e.search(/Q/)?i+=this.quarter(e):-1!=e.search(/M/)?i+=this.month(e):-1!=e.search(/Q/)?i+=this.quarter(e):-1!=e.search(/D|d/)?i+=this.date(e):-1!=e.search(/W|w/)?i+=this.week(e):-1!=e.search(/H|h|k/)?i+=this.hour(e):-1!=e.search(/m/)?i+=this.minute(e):-1!=e.search(/s/)?i+=this.second(e):-1!=e.search(/c|C/)?i+=this.millisecond(e):-1!=e.search(/t/)?i+=this.timestamp():-1!=e.search(/a|A/)&&(i+=Object(_utils_js__WEBPACK_IMPORTED_MODULE_0__.c)(this.d.hour,e)),t=t.substr(t.indexOf(e)+e.length);i+=t;for(let t=0;t<e.length;t++)i=i.replace("###",e[t]);return String(i)},PersianDate.prototype.year=function(t=""){if(this.error)return this.error;if(t=String(t).trim(),_utils_js__WEBPACK_IMPORTED_MODULE_0__.b.isNumeric.test(t))return this.d.year=+t,this.isValidDate()?this:this.addYear(t);{t||(t="jalali"==this.c?"jYYYY":"YYYY");let e="jalali"==this.c?this.d.year:gtj(this.toDate())[0];if("jYYYY"==t||"jy"==t)return e;if("jYY"==t)return String(e).slice(-2);let r="jalali"==this.c?this.toDate().getFullYear():this.d.year;return"YYYY"==t||"y"==t?r:"YY"==t?String(r).slice(-2):e}},PersianDate.prototype.month=function(t=""){if(this.error)return this.error;if(t=String(t).trim(),_utils_js__WEBPACK_IMPORTED_MODULE_0__.b.isNumeric.test(t)){if(t<1)return this.d.month=1,this.subMonth(--t);if(t>12)return this.d.month=12,this.addMonth(t-12);for(this.d.month=+t;!this.isValidDate();)this.subDay(1,!1);return this}{t||(t="jalali"==this.c?"jM":"M");let e="jalali"==this.c?this.d.month:gtj(this.toDate())[1];if("jMM"==t)return addPrefix(e,2);if("jM"==t)return e;if("jMMMM"==t||"jMMM"==t)return _utils_js__WEBPACK_IMPORTED_MODULE_0__.a.jalali.months[e];if("jMo"==t)return ordinalNumber(e);if("jMO"==t)return ordinalNumber(e,"jalali",2);let r="jalali"==this.c?this.toDate().getMonth()+1:this.d.month;return"M"==t?r:"MM"==t?addPrefix(r,2):"MMMM"==t?_utils_js__WEBPACK_IMPORTED_MODULE_0__.a.gregorian.months[r]:"Mo"==t||"MO"==t?ordinalNumber(r,"gregorian"):"MMM"==t?_utils_js__WEBPACK_IMPORTED_MODULE_0__.a.gregorian.months[r].slice(0,3):e}},PersianDate.prototype.date=function(t=""){if(this.error)return this.error;if(t=String(t).trim(),_utils_js__WEBPACK_IMPORTED_MODULE_0__.b.isNumeric.test(t)){let e=this.getDaysInMonth();if(t<1)return this.d.date=1,this.subDay(--t);if(t>e)return this.d.date=e,this.addDay(t-e);for(this.d.date=+t;!this.isValidDate();)this.subDay(1,!1);return this}{t||(t="jalali"==this.c?"jD":"D");let e="jalali"==this.c?this.d.date:gtj(this.toDate())[2];if("jDD"==t)return addPrefix(e,2);if("jD"==t)return e;if("jDo"==t)return ordinalNumber(e);if("jDO"==t)return ordinalNumber(e,"jalali",2);let r=this.toDate();if("jdddd"==t||"jddd"==t)return getDayLabel(r);if("jdd"==t)return getDayLabel(r).slice(0,1);let i=getDayOfWeek(r);if("jdo"==t)return ordinalNumber(i);if("jdO"==t)return ordinalNumber(i,"jalali",2);if("jd"==t)return getDayOfWeek(r,"jalali","array");if("jde"==t)return i;let s=getDayOfYear(this.year("jy"),this.month("jM"),e,"j");return"jDDDD"==t?addPrefix(s,3):"jDDD"==t?s:"jDDDo"==t?ordinalNumber(s):"jDDDO"==t?ordinalNumber(s,"jalali",2):"DD"==t?addPrefix(r.getDate(),2):"D"==t?r.getDate():"Do"==t||"DO"==t?ordinalNumber(r.getDate(),"gregorian"):"dddd"==t?getDayLabel(r,"gregorian"):"ddd"==t?getDayLabel(r,"gregorian").slice(0,3):"dd"==t?getDayLabel(r,"gregorian").slice(0,2):(i=getDayOfWeek(r,"gregorian"),"do"==t||"dO"==t?ordinalNumber(i,"gregorian"):"d"==t?getDayOfWeek(r,"gregorian","array"):"de"==t?i:(s=getDayOfYear(r.getFullYear(),r.getMonth()+1,r.getDate(),"g"),"DDDD"==t?addPrefix(s,3):"DDD"==t?s:"DDDo"==t||"DDDO"==t?ordinalNumber(s,"gregorian"):e))}},PersianDate.prototype.quarter=function(t=""){if(this.error)return this.error;if(t=String(t).trim(),_utils_js__WEBPACK_IMPORTED_MODULE_0__.b.isNumeric.test(t)){if(t<1)return this.d.month=1,this.subQuarter(--t);if(t>4)return this.d.month=12,this.addQuarter(t-4);for(this.d.month=3*+t-2;!this.isValidDate();)this.subDay(1,!1);return this}{t||(t="jalali"==this.c?"jQ":"Q");let e=Math.ceil(("jalali"==this.c?this.d.month:gtj(this.toDate())[1])/3);return"jQ"==t?e:"jQo"==t?ordinalNumber(e):"jQO"==t?ordinalNumber(e,"jalali",2):(e=Math.ceil(("jalali"==this.c?this.toDate().getMonth()+1:this.d.month)/3),"Q"==t?e:"Qo"==t||"QO"==t?ordinalNumber(e,"gregorian"):e)}},PersianDate.prototype.week=function(t=""){if(this.error)return this.error;if(t=String(t).trim(),_utils_js__WEBPACK_IMPORTED_MODULE_0__.b.isNumeric.test(t)){let e=this.getWeeksInYear();if(t<1)return this.week(1),this.subWeek(--t);if(t>e)return this.week(e),this.addWeek(t-e);let r=getWeekOfYear(this.d.year,this.d.month,this.d.date,this.c);for(this.addWeek(+t-r);!this.isValidDate();)this.subDay(1,!1);return this}{t||(t="jalali"==this.c?"jw":"w");let e=getWeekOfYear(this.d.year,this.d.month,this.d.date,this.c);return"jw"==t||"jW"==t?e:"jww"==t||"jWW"==t?addPrefix(e,2):"jwo"==t||"jWo"==t?ordinalNumber(e):"jwO"==t||"jWO"==t?ordinalNumber(e,"jalali",2):(e=getWeekOfYear(this.year("y"),this.month("M"),this.date("D"),"gregorian"),"w"==t||"W"==t?e:"ww"==t||"WW"==t?addPrefix(e,2):"wo"==t||"Wo"==t||"wO"==t||"WO"==t?ordinalNumber(e,"gregorian"):e)}},PersianDate.prototype.hour=function(t="H"){if(this.error)return this.error;if(t=String(t).trim(),_utils_js__WEBPACK_IMPORTED_MODULE_0__.b.isNumeric.test(t)){if(t<0)return this.d.hour=0,this.subHour(--t);if(t>23)return this.d.hour=23,this.addHour(t-23);for(this.d.hour=+t;!this.isValidTime();)this.subMillisecond(1,!1);return this}{let e=this.d.hour;return"H"==t?e:"HH"==t?addPrefix(e,2):"k"==t?e||24:"kk"==t?addPrefix(e||24,2):(e=e>12?e-12:e,"h"==t?e:"hh"==t?addPrefix(e,2):e)}},PersianDate.prototype.minute=function(t="m"){if(this.error)return this.error;if(t=String(t).trim(),_utils_js__WEBPACK_IMPORTED_MODULE_0__.b.isNumeric.test(t)){if(t<0||t>59)return this.addMinute(t);for(this.d.minute=+t;!this.isValidTime();)this.subMillisecond(1,!1);return this}return"m"==t?this.d.minute:"mm"==t?addPrefix(this.d.minute,2):this.d.minute},PersianDate.prototype.second=function(t="s"){if(this.error)return this.error;if(t=String(t).trim(),_utils_js__WEBPACK_IMPORTED_MODULE_0__.b.isNumeric.test(t)){if(t<0||t>59)return this.addSecond(t);for(this.d.second=+t;!this.isValidTime();)this.subMillisecond(1,!1);return this}return"s"==t?this.d.second:"ss"==t?addPrefix(this.d.second,2):this.d.second},PersianDate.prototype.millisecond=function(t="c"){if(this.error)return this.error;if(t=String(t).trim(),_utils_js__WEBPACK_IMPORTED_MODULE_0__.b.isNumeric.test(t)){if(t<0||t>999)return this.addMillisecond(t);for(this.d.millisecond=+t;!this.isValidTime();)this.subMillisecond(1,!1);return this}return"CCC"==t||"c"==t?this.d.millisecond:"CCCC"==t?addPrefix(this.d.millisecond,3):this.d.millisecond},PersianDate.prototype.timestamp=function(t){return this.error?this.error:t?this.fromGregorian(+String(t).trim()):this.toDate().getTime()},PersianDate.prototype.clone=function(){return(new PersianDate).calendar(this.c).parse(this.d)},PersianDate.prototype.isSame=function(...t){return!this.error&&((t=typesToArray(this.c,...t))[0]=+t[0]||0,t[1]=+t[1]||this.d.month,t[2]=+t[2]||this.d.date,t[3]=+t[3]||this.d.hour,t[4]=+t[4]||this.d.minute,t[5]=+t[5]||this.d.second,t[6]=+t[6]||this.d.millisecond,!!this.isValid(...t)&&this.clone().parse(...t).timestamp()==this.timestamp())};const typesToArray=function(t,e,r,i,s,a,n,o){return e||(e="jalali"==t?gtj():new Date),"string"==typeof e&&-1!=e.search(_utils_js__WEBPACK_IMPORTED_MODULE_0__.b.separators)&&(e=e.split(/[/ -.,:\\]/)),e instanceof PersianDate?e.calendar(t).toArray():e instanceof Date?new PersianDate(e).calendar(t).toArray():"[object Array]"===Object.prototype.toString.call(e)?e:"[object Object]"===Object.prototype.toString.call(e)?[e.y||e.year||e.years,e.M||e.month||e.months||1,e.d||e.day||e.days||e.date||1,e.h||e.hour||e.hours||0,e.m||e.minute||e.minutes||0,e.s||e.second||e.seconds||0,e.ms||e.millisecond||e.milliseconds||0]:[e,r,i,s,a,n,o]};PersianDate.prototype.isBefore=function(...t){return!this.error&&compareDate(t,this,">")},PersianDate.prototype.isAfter=function(...t){return!this.error&&compareDate(t,this,"<")},PersianDate.prototype.toObject=function(){if(this.error)return this.error;if(!arguments.length)return this.d;let t=typesToArray(this.c,...arguments);return{year:this.year(t[0]),month:this.month(t[1]),date:this.date(t[2]),hour:this.hour(t[3]),minute:this.minute(t[4]),second:this.second(t[5]),millisecond:this.millisecond(t[6])}},PersianDate.prototype.isDate=function(t){return t instanceof Date},PersianDate.prototype.isPersianDate=function(t){return t instanceof PersianDate},PersianDate.prototype.isSameOrBefore=function(...t){return!this.error&&compareDate(t,this,">=")},PersianDate.prototype.isSameOrAfter=function(...t){return!this.error&&compareDate(t,this,"<=")},PersianDate.prototype.isBetween=function(t,e,r="()"){if(this.error)return!1;if(t=[(t=typesToArray(this.c,t))[0]||this.d.year,t[1]||this.d.month,t[2]||1,t[3]||this.d.hour,t[4]||this.d.minute,t[5]||this.d.second,t[6]||this.d.millisecond],e=[(e=typesToArray(this.c,e))[0]||this.d.year,e[1]||this.d.month,e[2]||1,e[3]||this.d.hour,e[4]||this.d.minute,e[5]||this.d.second,e[6]||this.d.millisecond],!this.isValid(...t)||!this.isValid(...e))return!1;let i=this.clone().date(1);return("["===r[0]?i.isSameOrAfter(t):i.isAfter(t))&&("]"===r[1]?i.isSameOrBefore(e):i.isBefore(e))},PersianDate.prototype.min=function(){return mathOperation(arguments,this,"min")},PersianDate.prototype.max=function(){return mathOperation(arguments,this,"max")},PersianDate.prototype.diff=function(t,e,r=!1){if(this.error)return this.error;if(t=typesToArray(this.c,t),!this.isValid(...t))return"تاریخ نامعتبر";let i=this.timestamp()-this.clone().parse(...t).timestamp();switch(e){case"y":case"year":case"years":i=this.d.year-t[0];break;case"M":case"month":case"months":i=12*this.d.year+this.d.month-(12*+t[0]+ +t[1]);break;case"d":case"date":case"day":case"days":i=Math.ceil(i/1e3/60/60/24);break;case"h":case"hour":case"hours":i=Math.ceil(i/1e3/60/60);break;case"m":case"minute":case"minutes":i=Math.ceil(i/1e3/60);break;case"s":case"second":case"seconds":i=Math.ceil(i/1e3);break;case"ms":case"millisecond":case"milliseconds":default:i=i}return r?i+(i>=0?1:-1):i},PersianDate.prototype.toArray=function(){if(this.error)return this.error;if(!arguments.length)return Object.values(this.d);let t=typesToArray(this.c,...arguments);return[this.year(t[0]),this.month(t[1]),this.date(t[2]),this.hour(t[3]),this.minute(t[4]),this.second(t[5]),this.millisecond(t[6])]},PersianDate.prototype.diffForHumans=function(t,e=!0){if(this.error)return this.error;let r=this.diff(t,"s");if("string"==typeof r)return"تاریخ نامعتبر";let i=r>0?"آینده":"پیش";return r=Math.abs(r),0==r?"هم اکنون":(r=r<45?"لحظات":(r/=60)<45?Math.round(r)+" دقیقه":(r/=60)<23.5?Math.round(r)+" ساعت":(r/=24)<26?Math.round(r)+" روز":r<320?Math.round(r/30)+" ماه":Math.round(r/365)+" سال",r+(e?" "+i:""))},PersianDate.prototype.fromJalali=function(...t){return this.error&&(delete this.error,this.d={}),t=t.length?this.isPersianDate(t[0])?t[0].toArray():typesToArray(this.c,...t):gtj(),"jalali"==this.c?(this.d.year=+t[0],this.d.month=+t[1]||1,this.d.date=+t[2]||1,this.d.hour=+t[3]||0,this.d.minute=+t[4]||0,this.d.second=+t[5]||0,this.d.millisecond=+t[6]||0):setGregorianDate(jtg(...t),this),this.isValid()?this:showError("تاریخ نامعتبر",this)},PersianDate.prototype.fromGregorian=function(...t){if(this.error&&(delete this.error,this.d={}),t.length||(t[0]=(new Date).getTime()),this.isPersianDate(t[0])?t=t[0].toArray():isTimestamp(t[0])||((t=typesToArray(this.c,...t))[6]=+t[6]||0,t[5]=+t[5]||0,t[4]=+t[4]||0,t[3]=+t[3]||0,t[2]=+t[2]||1,t[1]=+t[1]||1),t[0]=+t[0],t.length>1){if(!this.isValid(...t))return showError("تاریخ نامعتبر",this);--t[1]}return"Invalid Date"==(t=new Date(...t))?showError("تاریخ نامعتبر",this):("jalali"==this.c?setJalaliDate(gtj(t),this):setGregorianDate(t,this),this)},PersianDate.prototype.calendar=function(t){return t?("j"==t[0]&&"g"==this.c[0]?(this.error||setJalaliDate(gtj(this.toDate()),this),this.c="jalali"):"g"==t[0]&&"j"==this.c[0]&&(this.error||setGregorianDate(this.toDate(),this),this.c="gregorian"),this):this.c},PersianDate.prototype.getWeeksInYear=function(t){if(this.error)return this.error;t||(t=this.year());let e="jalali"==this.c?"jd":"d",r=this.clone().parse(t),i=r.date(e),s=r.clone().addYear().subDay(),a=s.date(e);return i>3?r.addDay(7-i):r.subDay(i),a>3?s.addDay(7-a):s.subDay(a),Math.ceil(s.diff(r,"date")/7)},PersianDate.prototype.toDate=function(){if(this.error)return this.error;if("jalali"==this.c)return jtg(...this.toArray());let t=this.toArray();return--t[1],new Date(...t)},PersianDate.prototype.startOf=function(t="year"){return this.d.millisecond=0,"s"==t[0]?this:(this.d.second=0,"m"==t||"minute"==t?this:(this.d.minute=0,"h"==t[0]?this:(this.d.hour=0,"d"==t[0]?this:(this.d.date=1,"M"==t||"month"==t?this:(this.d.month=1,"y"==t[0]?this:void 0)))))},PersianDate.prototype.endOf=function(t="year"){return this.d.millisecond=999,"s"==t[0]?this:(this.d.second=59,"m"==t||"minute"==t?this:(this.d.minute=59,"h"==t[0]?this:(this.d.hour=23,"d"==t[0]?this:(this.d.date=this.getDaysInMonth(),"M"==t||"month"==t?this:(this.d.month=12,this.d.date=this.getDaysInMonth(),"y"==t[0]?this:void 0)))))},PersianDate.prototype.valueOf=function(){return this.timestamp()};const deprecate=t=>{console.warn(t)},isTimestamp=t=>NaN!=Number(t)&&Math.floor(t/1e4)>0,setGregorianDate=(t,e)=>{e.d={year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()}},setJalaliDate=(t,e)=>{[e.d.year,e.d.month,e.d.date,e.d.hour,e.d.minute,e.d.second,e.d.millisecond]=t},compareDate=(date,instance,operator)=>(date=typesToArray(instance.c,...date),!!instance.isValid(...date)&&eval("instance.clone().parse(...date).timestamp() "+operator+" instance.timestamp()")),mathOperation=(values,instance,operation)=>{if(!values.length)return!1;let args=Object.values(values).concat(),argsNumber=args.map(t=>(t=typesToArray(instance.c,t),!!instance.isValid(...t)&&instance.clone().parse(...t).timestamp()));return-1==argsNumber.indexOf(!1)&&eval("args[argsNumber.indexOf(Math."+operation+"(...argsNumber))]")};calendar&&this.calendar(calendar),date?calendar&&"j"==calendar[0]?this.fromJalali(date):this.fromGregorian(date):this.now()};__webpack_exports__.default=PersianDate}]).default}));
//# sourceMappingURL=PersianDate.umd.min.js.map