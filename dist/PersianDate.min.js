!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.PersianDate=i():t.PersianDate=i()}(window,(function(){return function(t){var i={};function e(r){if(i[r])return i[r].exports;var s=i[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,e),s.l=!0,s.exports}return e.m=t,e.c=i,e.d=function(t,i,r){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)e.d(r,s,function(i){return t[i]}.bind(null,s));return r},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=0)}([function(t,i,e){"use strict";e.r(i);const r={jalali:{months:{1:"فروردین",2:"اردیبهشت",3:"خرداد",4:"تیر",5:"مرداد",6:"شهریور",7:"مهر",8:"آبان",9:"آذر",10:"دی",11:"بهمن",12:"اسفند"},days:{label:{6:"شنبه",0:"یکشنبه",1:"دوشنبه",2:"سه‌شنبه",3:"چهارشنبه",4:"پنجشنبه",5:"جمعه"},weekNumber:{6:0,0:1,1:2,2:3,3:4,4:5,5:6}},ordinalNumbers:function(t,i){const e={1:"یک",2:"دو",3:"سو",4:"چهار",5:"پنج",6:"شش",7:"هفت",8:"هشت",9:"نه",10:"ده",11:"یازده",12:"دوازده",13:"سیزده",14:"چهارده",15:"پانزده",16:"شانزده",17:"هفده",18:"هجده",19:"نوزده",20:"بیست",30:"سی‌",40:"چهل",50:"پنجاه",60:"شصت",70:"هفتاد",80:"هشتاد",90:"نود",100:"صد",200:"دویست",300:"سیصد"};let r="";if(1==t)r="اول";else if(e[t])r=e[t]+(30==t?"ام":"م");else{let i=t%10;i&&(r=e[i]+"م"),i=(t-i)%100,i&&(r=e[i]+(r?" و "+r:30==i?"ام ":"م")),i=100*Math.floor(t/100),i&&(r=e[i]+(r?" و "+r:"م"))}return 2==i&&(r+="ین"),r}},gregorian:{months:{1:"January",2:"February",3:"March",4:"April",5:"May",6:"June",7:"July",8:"August",9:"September",10:"October",11:"November",12:"December"},days:{label:{0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"},weekNumber:{0:0,1:1,2:2,3:3,4:4,5:5,6:6}},ordinalNumbers:function(t){return 1==t||t%10==1&&11!=t?t+"st":2==t||t%10==2&&12!=t?t+"nd":3==t||t%10==3&&13!=t?t+"rd":t+"th"}}},s={format:/j*(YYYY|YY|y|Qo|QO|Q|MMMM|MMM|MM|Mo|MO|M|DDDD|DDDo|DDDO|DDD|DD|Do|DO|D|dddd|ddd|dd|do|dO|de|d|ww|WW|wo|Wo|wO|WO|w|W|HH|hh|H|h|kk|k|mm|m|ss|s|CCCC|CCC|c|t|aa|a|A)/g,isNumeric:/^\d+$/,separators:"\\/| |-|\\.|,|:",betweenBacktick:/`(.*?)`/g},n=function(t,i){return t>=0&&t<12?"a"==i?"am":"aa"==i?"A.M.":"A"==i?"AM":"ja"==i?"ق ظ":"jaa"==i?"ق.ظ":"jA"==i?"قبل از ظهر":"ق.ظ":t>=12&&t<24?"a"==i?"pm":"aa"==i?"P.M.":"A"==i?"PM":"ja"==i?"ب ظ":"jaa"==i?"ب.ظ":"jA"==i?"بعد از ظهر":"ب.ظ":void 0},h=function(){this.d={},this.c="jalali";const t=(t,i,e,r,s,n,h)=>{let o,a,d,u;o=t?"[object Date]"===Object.prototype.toString.call(t)?t:new Date(t,i||0,e||1,r||0,s||0,n||0,h||0):new Date,e=o.getDate(),i=o.getMonth()+1,t=o.getFullYear(),r=o.getHours(),s=o.getMinutes(),n=o.getSeconds(),h=o.getMilliseconds();t>1600?(a=979,t-=1600):(a=0,t-=621);let l=i>2?t+1:t,c=365*t+parseInt((l+3)/4)-parseInt((l+99)/100)+parseInt((l+399)/400)-80+e+[0,31,59,90,120,151,181,212,243,273,304,334][i-1];return a+=33*parseInt(c/12053),c%=12053,a+=4*parseInt(c/1461),c%=1461,c>365&&(a+=parseInt((c-1)/365),c=(c-1)%365),d=c<186?1+parseInt(c/31):7+parseInt((c-186)/30),u=1+(c<186?c%31:(c-186)%30),[a,d,u,r,s,n,h]},i=(t,i,e,r,s,n,h)=>{let o,a,d;i=+i||1,e=+e||1,r=+r||0,s=+s||0,n=+n||0,h=+h||0,(t=+t)>979?(o=1600,t-=979):o=621;let u=365*t+8*parseInt(t/33)+parseInt((t%33+3)/4)+78+e+(i<7?31*(i-1):30*(i-7)+186);o+=400*parseInt(u/146097),u%=146097,u>36524&&(o+=100*parseInt(--u/36524),u%=36524,u>=365&&u++),o+=4*parseInt(u/1461),u%=1461,u>365&&(o+=parseInt((u-1)/365),u=(u-1)%365),d=u+1;let l=[0,31,o%4==0&&o%100!=0||o%400==0?29:28,31,30,31,30,31,31,30,31,30,31];for(a=0;a<13;a++){let t=l[a];if(d<=t)break;d-=t}return new Date(o,a-1,d,r,s,n,h)},e=(t=new Date,i="jalali")=>"[object Date]"===Object.prototype.toString.call(t)?r[i].days.label[t.getDay()]:f("تاریخ نامعتبر",this),o=(t=new Date,i="jalali",e="standard")=>"[object Date]"===Object.prototype.toString.call(t)?r[i].days.weekNumber[t.getDay()]+("standard"!=e?0:1):f("تاریخ نامعتبر",this),a=(t,i)=>{for(t=+t,i=+i;0!=--t;)i+=this.clone().calendar("j").getDaysInMonth(0,t);return i},d=(t,i,e)=>{"[object Date]"===Object.prototype.toString.call(t)?[t,i,e]=[t.getFullYear(),t.getMonth(),t.getDate()]:i--;let r=new Date(t,i,e),s=new Date(t,0,0),n=r-s+60*(s.getTimezoneOffset()-r.getTimezoneOffset())*1e3;return Math.floor(n/864e5)},u=(t,i,e,r)=>{let s="jalali"==r?"jd":"d",n=(new h).calendar(r).parse(t),o=n.date(s),a=n.clone().parse(t,i,e);o>3&&n.addDay(7-o);let d=Math.ceil(a.diff(n,"date",!0)/7),u=a.clone().getWeeksInYear();return d>u?u:d},l=(t,i="jalali",e=1)=>r[i].ordinalNumbers(t,e),c=(t,i,e="0")=>e.repeat(i-String(t).length)+t,f=(t,i)=>(delete i.d,i.error=t,t);h.prototype.now=function(){this.error&&(delete this.error,this.d={});let i=new Date;return"jalali"==this.c?M(t(i),this):D(i,this),this},h.prototype.setDate=function(...t){return p('"setDate" function is deprecated!\nuse "fromGregorian" function instead.'),this.fromGregorian(...t)},h.prototype.parse=function(...t){return"jalali"==this.c?this.fromJalali(...t):this.fromGregorian(...t)},h.prototype.isLeapYear=function(t){if(this.error)return!1;if(t||(t=this.year()),"jalali"==this.c){return(t>1342?[1,5,9,13,17,22,26,30]:[1,5,9,13,17,21,26,30]).includes(t%33)}return t%4==0&&t%100!=0||t%400==0},h.prototype.isValid=function(t,i,e,r,s,n,h){if(this.error)return!1;return!!this.isValidDate(t,i,e)&&this.isValidTime(r,s,n,h)},h.prototype.isValidDate=function(t,i,e){if(this.error)return!1;if(t||(t=this.d.year,i=this.d.month,e=this.d.date),[t,i,e].some(t=>-1!=String(t).search(/null|undifind|NaN/)))return!1;if(t<0||i>12||i<1||e>31||e<1)return!1;if("jalali"==this.c){if(i>=7&&i<=11&&31==e)return!1;if(12==i&&31==e)return!1;if(12==i&&30==e&&!this.isLeapYear(t))return!1}else{if([2,4,6,9,11].includes(i)&&31==e)return!1;if(2==i&&(30==e||29==e&&!this.isLeapYear(t)))return!1}return!0},h.prototype.isValidTime=function(t,i,e,r){return!this.error&&(t||(t=this.hour(),i=this.minute(),e=this.second(),r=this.millisecond()),![t,i,e,r].some(t=>-1!=String(t).search(/null|undifind|NaN/))&&(!(t<0||t>23)&&(!(i<0||i>59)&&(!(e<0||e>59)&&!(r<0||r>999)))))},h.prototype.getDaysInMonth=function(t=this.d.year,i=this.d.month){return this.error?this.error:"jalali"==this.c?i>=1&&i<=6?31:i>6&&i<=11||this.isLeapYear(t)?30:29:[1,3,5,7,8,10,12].includes(i)?31:2==i?this.isLeapYear(t)?29:28:30},h.prototype.addYear=function(t=1,i=!0){if(this.error)return this.error;if(!t)return this;if(t<0)return this.subYear(Math.abs(t));for(this.d.year+=+t;i&&!this.isValidDate();)this.subDay(1,!1);return this},h.prototype.addMonth=function(t=1,i=!0){if(this.error)return this.error;if(!t)return this;if(t<0)return this.subMonth(Math.abs(t));t=+t;let e=12-this.d.month+1;if(e>t)this.d.month+=t;else{for(this.addYear(1,!1),this.d.month=1,t-=e;t>=12;)t-=12,this.addYear(1,!1);0!=t&&(this.d.month+=t)}for(;i&&!this.isValidDate();)this.subDay(1,!1);return this},h.prototype.addDay=function(t=1,i=!0){if(this.error)return this.error;if(!t)return this;if(t<0)return this.subDay(Math.abs(t));t=+t;let e=this.getDaysInMonth()-this.d.date+1;if(e>t)this.d.date+=t;else{for(this.addMonth(1,!1),this.d.date=1,t-=e;t>=this.getDaysInMonth();)t-=this.getDaysInMonth(),this.addMonth(1,!1);0!=t&&(this.d.date+=t)}for(;i&&!this.isValidDate();)this.subDay(1,!1);return this},h.prototype.addQuarter=function(t=1,i=!0){return this.error?this.error:t?t<0?this.subQuarter(Math.abs(t)):(t=+t,this.addMonth(3*t,i)):this},h.prototype.addWeek=function(t=1,i=!0){return this.error?this.error:t?t<0?this.subWeek(Math.abs(t)):(t=+t,this.addDay(7*t,i)):this},h.prototype.addHour=function(t=1,i=!0){if(this.error)return this.error;if(!t)return this;if(t<0)return this.subHour(Math.abs(t));for(t=+t;t>=24;)t-=24,this.addDay(1,!1);let e=24-this.d.hour;for(t>=e?(this.addDay(1,!1),t-=e,this.d.hour=t):this.d.hour+=t;i&&!this.isValidTime();)this.subMillisecond(1,!1);return this},h.prototype.addMinute=function(t=1,i=!0){if(this.error)return this.error;if(!t)return this;if(t<0)return this.subMinute(Math.abs(t));for(t=+t;t>=60;)this.addHour(1,!1),t-=60;let e=60-this.d.minute;for(t>=e?(this.addHour(1,!1),t-=e,this.d.minute=t):this.d.minute+=t;i&&!this.isValidTime();)this.subMillisecond(1,!1);return this},h.prototype.addSecond=function(t=1,i=!0){if(this.error)return this.error;if(!t)return this;if(t<0)return this.subSecond(Math.abs(t));for(t=+t;t>=60;)this.addMinute(1,!1),t-=60;let e=60-this.d.second;for(t>=e?(this.addMinute(1,!1),t-=e,this.d.second=t):this.d.second+=t;i&&!this.isValidTime();)this.subMillisecond(1,!1);return this},h.prototype.addMillisecond=function(t=1,i=!0){if(this.error)return this.error;if(!t)return this;if(t<0)return this.subMillisecond(Math.abs(t));for(t=+t;t>=1e3;)this.addSecond(1,!1),t-=1e3;let e=1e3-this.d.millisecond;for(t>=e?(this.addSecond(1,!1),t-=e,this.d.millisecond=t):this.d.millisecond+=t;i&&!this.isValidTime();)this.subMillisecond(1,!1);return this},h.prototype.subYear=function(t=1,i=!0){if(!t)return this;for(this.d.year-=t=Math.abs(t);i&&!this.isValidDate();)this.subDay(1,!1);return this},h.prototype.subMonth=function(t=1,i=!0){if(this.error)return this.error;if(!t)return this;t=Math.abs(t);let e=this.d.month;if(e>t)this.d.month-=t;else{for(this.subYear(1,!1),this.d.month=12,t-=e;t>=12;)this.subYear(1,!1),t-=12;0!=t&&(this.d.month-=t)}for(;i&&!this.isValidDate();)this.subDay(1,!1);return this},h.prototype.subDay=function(t=1,i=!0){if(this.error)return this.error;if(!t)return this;t=Math.abs(t);let e=this.d.date;if(e>t)this.d.date-=t;else{for(this.subMonth(1,!1),this.d.date=this.getDaysInMonth(),t-=e;t>=this.getDaysInMonth();)t-=this.getDaysInMonth(),this.subMonth(1,!1);this.d.date=this.getDaysInMonth()-t}for(;i&&!this.isValidDate();)this.subDay(1,!1);return this},h.prototype.subQuarter=function(t=1,i=!0){return this.error?this.error:t?(t=Math.abs(t),this.subMonth(3*t,i)):this},h.prototype.subWeek=function(t=1,i=!0){return this.error?this.error:t?(t=Math.abs(t),this.subDay(7*t,i)):this},h.prototype.subHour=function(t=1,i=!0){if(this.error)return this.error;if(!t)return this;for(t=Math.abs(t);t>=24;)t-=24,this.subDay(1,!1);let e=this.d.hour;for(t>e?(this.subDay(1,!1),t-=e,this.d.hour=24-t):this.d.hour-=t;i&&!this.isValidTime();)this.subMillisecond(1,!1);return this},h.prototype.subMinute=function(t=1,i=!0){if(this.error)return this.error;if(!t)return this;for(t=Math.abs(t);t>=60;)t-=60,this.subHour(1,!1);let e=this.d.minute;for(t>e?(this.subHour(1,!1),t-=e,this.d.minute=60-t):this.d.minute-=t;i&&!this.isValidTime();)this.subMillisecond(1,!1);return this},h.prototype.subSecond=function(t=1,i=!0){if(this.error)return this.error;if(!t)return this;for(t=Math.abs(t);t>=60;)t-=60,this.subMinute(1,!1);let e=this.d.second;for(t>e?(this.subMinute(1,!1),t-=e,this.d.second=60-t):this.d.second-=t;i&&!this.isValidTime();)this.subMillisecond(1,!1);return this},h.prototype.subMillisecond=function(t=1,i=!0){if(this.error)return this.error;if(!t)return this;for(t=Math.abs(t);t>=1e3;)t-=1e3,this.subSecond(1,!1);let e=this.d.millisecond;for(t>e?(this.subSecond(1,!1),t-=e,this.d.millisecond=1e3-t):this.d.millisecond-=t;i&&!this.isValidTime();)this.subMillisecond(1,!1);return this},h.prototype.toString=function(t="date"){if(this.error)return this.error;let i=[];t=t.replace(s.betweenBacktick,(t,e)=>(i.push(e),"###"));let e=(t="jalali"==this.c?t.replace(/datetime/gi,"jYYYY/jMM/jDD HH:mm").replace(/date/gi,"jYYYY/jMM/jDD").replace(/time/gi,"HH:mm"):t.replace(/datetime/gi,"YYYY-MM-DD HH:mm").replace(/date/gi,"YYYY-MM-DD").replace(/time/gi,"HH:mm")).match(s.format),r="";for(const i of e)r+=t.substring(0,t.indexOf(i)),-1!=i.search(/Y|y/)?r+=this.year(i):-1!=i.search(/Q/)?r+=this.quarter(i):-1!=i.search(/M/)?r+=this.month(i):-1!=i.search(/Q/)?r+=this.quarter(i):-1!=i.search(/D|d/)?r+=this.date(i):-1!=i.search(/W|w/)?r+=this.week(i):-1!=i.search(/H|h|k/)?r+=this.hour(i):-1!=i.search(/m/)?r+=this.minute(i):-1!=i.search(/s/)?r+=this.second(i):-1!=i.search(/c|C/)?r+=this.millisecond(i):-1!=i.search(/t/)?r+=this.timestamp():-1!=i.search(/a|A/)&&(r+=n(this.d.hour,i)),t=t.substr(t.indexOf(i)+i.length);r+=t;for(let t=0;t<i.length;t++)r=r.replace("###",i[t]);return String(r)},h.prototype.year=function(i=""){if(this.error)return this.error;if(i=String(i).trim(),s.isNumeric.test(i))return this.d.year=+i,this.isValidDate()?this:this.addYear(i);{i||(i="jalali"==this.c?"jYYYY":"YYYY");let e="jalali"==this.c?this.d.year:t(this.toDate())[0];if("jYYYY"==i||"jy"==i)return e;if("jYY"==i)return String(e).slice(-2);let r="jalali"==this.c?this.toDate().getFullYear():this.d.year;return"YYYY"==i||"y"==i?r:"YY"==i?String(r).slice(-2):e}},h.prototype.month=function(i=""){if(this.error)return this.error;if(i=String(i).trim(),s.isNumeric.test(i)){if(i<1)return this.d.month=1,this.subMonth(--i);if(i>12)return this.d.month=12,this.addMonth(i-12);for(this.d.month=+i;!this.isValidDate();)this.subDay(1,!1);return this}{i||(i="jalali"==this.c?"jM":"M");let e="jalali"==this.c?this.d.month:t(this.toDate())[1];if("jMM"==i)return c(e,2);if("jM"==i)return e;if("jMMMM"==i||"jMMM"==i)return r.jalali.months[e];if("jMo"==i)return l(e);if("jMO"==i)return l(e,"jalali",2);let s="jalali"==this.c?this.toDate().getMonth()+1:this.d.month;return"M"==i?s:"MM"==i?c(s,2):"MMMM"==i?r.gregorian.months[s]:"Mo"==i||"MO"==i?l(s,"gregorian"):"MMM"==i?r.gregorian.months[s].slice(0,3):e}},h.prototype.date=function(i=""){if(this.error)return this.error;if(i=String(i).trim(),s.isNumeric.test(i)){let t=this.getDaysInMonth();if(i<1)return this.d.date=1,this.subDay(--i);if(i>t)return this.d.date=t,this.addDay(i-t);for(this.d.date=+i;!this.isValidDate();)this.subDay(1,!1);return this}{i||(i="jalali"==this.c?"jD":"D");let r="jalali"==this.c?this.d.date:t(this.toDate())[2];if("jDD"==i)return c(r,2);if("jD"==i)return r;if("jDo"==i)return l(r);if("jDO"==i)return l(r,"jalali",2);let s=this.toDate();if("jdddd"==i||"jddd"==i)return e(s);if("jdd"==i)return e(s).slice(0,1);let n=o(s);if("jdo"==i)return l(n);if("jdO"==i)return l(n,"jalali",2);if("jd"==i)return o(s,"jalali","array");if("jde"==i)return n;let h=a(this.month("jM"),r);return"jDDDD"==i?c(h,3):"jDDD"==i?h:"jDDDo"==i?l(h):"jDDDO"==i?l(h,"jalali",2):"DD"==i?c(s.getDate(),2):"D"==i?s.getDate():"Do"==i||"DO"==i?l(s.getDate(),"gregorian"):"dddd"==i?e(s,"gregorian"):"ddd"==i?e(s,"gregorian").slice(0,3):"dd"==i?e(s,"gregorian").slice(0,2):(n=o(s,"gregorian"),"do"==i||"dO"==i?l(n,"gregorian"):"d"==i?o(s,"gregorian","array"):"de"==i?n:(h=d(s),"DDDD"==i?c(h,3):"DDD"==i?h:"DDDo"==i||"DDDO"==i?l(h,"gregorian"):r))}},h.prototype.quarter=function(i=""){if(this.error)return this.error;if(i=String(i).trim(),s.isNumeric.test(i)){if(i<1)return this.d.month=1,this.subQuarter(--i);if(i>4)return this.d.month=12,this.addQuarter(i-4);for(this.d.month=3*+i-2;!this.isValidDate();)this.subDay(1,!1);return this}{i||(i="jalali"==this.c?"jQ":"Q");let e=Math.ceil(("jalali"==this.c?this.d.month:t(this.toDate())[1])/3);return"jQ"==i?e:"jQo"==i?l(e):"jQO"==i?l(e,"jalali",2):(e=Math.ceil(("jalali"==this.c?this.toDate().getMonth()+1:this.d.month)/3),"Q"==i?e:"Qo"==i||"QO"==i?l(e,"gregorian"):e)}},h.prototype.week=function(t=""){if(this.error)return this.error;if(t=String(t).trim(),s.isNumeric.test(t)){let i=this.getWeeksInYear();if(t<1)return this.week(1),this.subWeek(--t);if(t>i)return this.week(i),this.addWeek(t-i);let e=u(this.d.year,this.d.month,this.d.date,this.c);for(this.addWeek(+t-e);!this.isValidDate();)this.subDay(1,!1);return this}{t||(t="jalali"==this.c?"jw":"w");let i=u(this.d.year,this.d.month,this.d.date,this.c);return"jw"==t||"jW"==t?i:"jww"==t||"jWW"==t?c(i,2):"jwo"==t||"jWo"==t?l(i):"jwO"==t||"jWO"==t?l(i,"jalali",2):(i=u(this.year("y"),this.month("M"),this.date("D"),"gregorian"),"w"==t||"W"==t?i:"ww"==t||"WW"==t?c(i,2):"wo"==t||"Wo"==t||"wO"==t||"WO"==t?l(i,"gregorian"):i)}},h.prototype.hour=function(t="H"){if(this.error)return this.error;if(t=String(t).trim(),s.isNumeric.test(t)){if(t<0)return this.d.hour=0,this.subHour(--t);if(t>23)return this.d.hour=23,this.addHour(t-23);for(this.d.hour=+t;!this.isValidTime();)this.subMillisecond(1,!1);return this}{let i=this.d.hour;return"H"==t?i:"HH"==t?c(i,2):"k"==t?i||24:"kk"==t?c(i||24,2):(i=i>12?i-12:i,"h"==t?i:"hh"==t?c(i,2):i)}},h.prototype.minute=function(t="m"){if(this.error)return this.error;if(t=String(t).trim(),s.isNumeric.test(t)){if(t<0||t>59)return this.addMinute(t);for(this.d.minute=+t;!this.isValidTime();)this.subMillisecond(1,!1);return this}return"m"==t?this.d.minute:"mm"==t?c(this.d.minute,2):this.d.minute},h.prototype.second=function(t="s"){if(this.error)return this.error;if(t=String(t).trim(),s.isNumeric.test(t)){if(t<0||t>59)return this.addSecond(t);for(this.d.second=+t;!this.isValidTime();)this.subMillisecond(1,!1);return this}return"s"==t?this.d.second:"ss"==t?c(this.d.second,2):this.d.second},h.prototype.millisecond=function(t="c"){if(this.error)return this.error;if(t=String(t).trim(),s.isNumeric.test(t)){if(t<0||t>999)return this.addMillisecond(t);for(this.d.millisecond=+t;!this.isValidTime();)this.subMillisecond(1,!1);return this}return"CCC"==t||"c"==t?this.d.millisecond:"CCCC"==t?c(this.d.millisecond,3):this.d.millisecond},h.prototype.timestamp=function(t){return this.error?this.error:t?this.fromGregorian(+String(t).trim()):this.toDate().getTime()},h.prototype.clone=function(){return(new h).calendar(this.c).parse(this.d)},h.prototype.isSame=function(t,i,e,r,s,n,h){return!this.error&&([t,i,e,r,s,n,h]=m(this.c,t,i,e,r,s,n,h),t=+t||0,i=+i||this.d.month,e=+e||this.d.date,r=+r||this.d.hour,s=+s||this.d.minute,n=+n||this.d.second,h=+h||this.d.millisecond,!!this.isValid(t,i,e,r,s,n,h)&&this.clone().parse(t,i,e,r,s,n,h).timestamp()==this.timestamp())};const m=function(i,e,r,n,o,a,d,u){return e||(e="jalali"==i?t():new Date),e instanceof h?e.calendar(i).toArray():e instanceof Date?new h(e).calendar(i).toArray():"string"==typeof e&&-1!=e.search(s.separators)?e.split(/[/ -.,:\\]/):"[object Array]"===Object.prototype.toString.call(e)?e:"[object Object]"===Object.prototype.toString.call(e)?[e.y||e.year||e.years,e.M||e.month||e.months||1,e.d||e.day||e.days||e.date||1,e.h||e.hour||e.hours||0,e.m||e.minute||e.minutes||0,e.s||e.second||e.seconds||0,e.ms||e.millisecond||e.milliseconds||0]:[e,r,n,o,a,d,u]};h.prototype.isBefore=function(t,i,e,r,s,n,h){return!this.error&&([t,i,e,r,s,n,h]=m(this.c,t,i,e,r,s,n,h),!!this.isValid(t,i,e,r,s,n,h)&&this.clone().parse(t,i,e,r,s,n,h).timestamp()>this.timestamp())},h.prototype.isAfter=function(t,i,e,r,s,n,h){return!this.error&&([t,i,e,r,s,n,h]=m(this.c,t,i,e,r,s,n,h),!!this.isValid(t,i,e,r,s,n,h)&&this.clone().parse(t,i,e,r,s,n,h).timestamp()<this.timestamp())},h.prototype.toObject=function(){if(this.error)return this.error;if(!arguments.length)return this.d;let t=m(this.c,...arguments);return{year:this.year(t[0]),month:this.month(t[1]),date:this.date(t[2]),hour:this.hour(t[3]),minute:this.minute(t[4]),second:this.second(t[5]),millisecond:this.millisecond(t[6])}},h.prototype.isDate=function(t){return t instanceof Date},h.prototype.isPersianDate=function(t){return t instanceof h},h.prototype.isSameOrBefore=function(t,i,e,r,s,n,h){return!this.error&&([t,i,e,r,s,n,h]=m(this.c,t,i,e,r,s,n,h),!!this.isValid(t,i,e,r,s,n,h)&&this.clone().parse(t,i,e,r,s,n,h).timestamp()>=this.timestamp())},h.prototype.isSameOrAfter=function(t,i,e,r,s,n,h){return!this.error&&([t,i,e,r,s,n,h]=m(this.c,t,i,e,r,s,n,h),!!this.isValid(t,i,e,r,s,n,h)&&this.clone().parse(t,i,e,r,s,n,h).timestamp()<=this.timestamp())},h.prototype.isBetween=function(t,i,e="()"){return!this.error&&(t=[(t=m(this.c,t))[0]||this.d.year,t[1]||this.d.month,t[2]||this.d.date,t[3]||this.d.hour,t[4]||this.d.minute,t[5]||this.d.second,t[6]||this.d.millisecond],i=[(i=m(this.c,i))[0]||this.d.year,i[1]||this.d.month,i[2]||this.d.date,i[3]||this.d.hour,i[4]||this.d.minute,i[5]||this.d.second,i[6]||this.d.millisecond],!(!this.isValid(...t)||!this.isValid(...i))&&(("["===e[0]?this.isSameOrAfter(t):this.isAfter(t))&&("]"===e[1]?this.isSameOrBefore(i):this.isBefore(i))))},h.prototype.min=function(){if(!arguments.length)return!1;let t=Object.values(arguments).concat(),i=t.map(t=>(t=m(this.c,t),!!this.isValid(...t)&&this.clone().parse(...t).timestamp()));return-1==i.indexOf(!1)&&t[i.indexOf(Math.min(...i))]},h.prototype.max=function(){if(!arguments.length)return!1;let t=Object.values(arguments).flat(),i=t.map(t=>(t=m(this.c,t),!!this.isValid(...t)&&this.clone().parse(...t).timestamp()));return-1==i.indexOf(!1)&&t[i.indexOf(Math.max(...i))]},h.prototype.diff=function(t,i,e=!1){if(this.error)return this.error;if(t=m(this.c,t),!this.isValid(...t))return"تاریخ نامعتبر";let r=this.timestamp()-this.clone().parse(...t).timestamp();switch(i){case"y":case"year":case"years":r=this.d.year-t[0];break;case"M":case"month":case"months":r=12*this.d.year+this.d.month-(12*+t[0]+ +t[1]);break;case"d":case"date":case"day":case"days":r=Math.ceil(r/1e3/60/60/24);break;case"h":case"hour":case"hours":r=Math.ceil(r/1e3/60/60);break;case"m":case"minute":case"minutes":r=Math.ceil(r/1e3/60);break;case"s":case"second":case"seconds":r=Math.ceil(r/1e3);break;case"ms":case"millisecond":case"milliseconds":default:r=r}return e?r+(r>=0?1:-1):r},h.prototype.toArray=function(){if(this.error)return this.error;if(!arguments.length)return Object.values(this.d);let t=m(this.c,...arguments);return[this.year(t[0]),this.month(t[1]),this.date(t[2]),this.hour(t[3]),this.minute(t[4]),this.second(t[5]),this.millisecond(t[6])]},h.prototype.diffForHumans=function(t,i=!0){if(this.error)return this.error;let e=this.diff(t,"s");if("string"==typeof e)return"تاریخ نامعتبر";let r=e>0?"آینده":"پیش";return e=Math.abs(e),0==e?"هم اکنون":(e=e<45?"لحظاتی":(e/=60)<45?Math.round(e)+" دقیقه":(e/=60)<23.5?Math.round(e)+" ساعت":(e/=24)<26?Math.round(e)+" روز":e<320?Math.round(e/30)+" ماه":Math.round(e/365)+" سال",e+(i?" "+r:""))},h.prototype.fromJalali=function(...e){return this.error&&(delete this.error,this.d={}),e=e.length?this.isPersianDate(e[0])?e[0].toArray():m(this.c,...e):t(),"jalali"==this.c?(this.d.year=+e[0],this.d.month=+e[1]||1,this.d.date=+e[2]||1,this.d.hour=+e[3]||0,this.d.minute=+e[4]||0,this.d.second=+e[5]||0,this.d.millisecond=+e[6]||0):D(i(...e),this),this.isValid()?this:f("تاریخ نامعتبر",this)},h.prototype.fromGregorian=function(...i){if(this.error&&(delete this.error,this.d={}),i.length||(i[0]=(new Date).getTime()),this.isPersianDate(i[0])?i=i[0].toArray():y(i[0])||((i=m(this.c,...i))[6]=+i[6]||0,i[5]=+i[5]||0,i[4]=+i[4]||0,i[3]=+i[3]||0,i[2]=+i[2]||1,i[1]=+i[1]||1),i[0]=+i[0],i.length>1){if(!this.isValid(...i))return f("تاریخ نامعتبر",this);--i[1]}return"Invalid Date"==(i=new Date(...i))?f("تاریخ نامعتبر",this):("jalali"==this.c?M(t(i),this):D(i,this),this)},h.prototype.calendar=function(i){return i?("j"==i[0]&&"g"==this.c[0]?(this.error||M(t(this.toDate()),this),this.c="jalali"):"g"==i[0]&&"j"==this.c[0]&&(this.error||D(this.toDate(),this),this.c="gregorian"),this):this.c},h.prototype.getWeeksInYear=function(t){if(this.error)return this.error;t||(t=this.year());let i="jalali"==this.c?"jd":"d",e=this.clone().parse(t),r=e.date(i),s=e.clone().addYear().subDay(),n=s.date(i);return r>3?e.addDay(7-r):e.subDay(r),n>3?s.addDay(7-n):s.subDay(n),Math.ceil(s.diff(e,"date")/7)},h.prototype.toDate=function(){if(this.error)return this.error;if("jalali"==this.c)return i(...this.toArray());let t=this.toArray();return--t[1],new Date(...t)},h.prototype.startOf=function(t="year"){return this.d.millisecond=0,"s"==t[0]?this:(this.d.second=0,"m"==t||"minute"==t?this:(this.d.minute=0,"h"==t[0]?this:(this.d.hour=0,"d"==t[0]?this:(this.d.date=1,"M"==t||"month"==t?this:(this.d.month=1,"y"==t[0]?this:void 0)))))},h.prototype.endOf=function(t="year"){return this.d.millisecond=999,"s"==t[0]?this:(this.d.second=59,"m"==t||"minute"==t?this:(this.d.minute=59,"h"==t[0]?this:(this.d.hour=23,"d"==t[0]?this:(this.d.date=this.getDaysInMonth(),"M"==t||"month"==t?this:(this.d.month=12,this.d.date=this.getDaysInMonth(),"y"==t[0]?this:void 0)))))};const p=t=>{console.warn(t)},y=t=>NaN!=Number(t)&&Math.floor(t/1e4)>0,D=(t,i)=>{i.d={year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),millisecond:t.getMilliseconds()}},M=(t,i)=>{[i.d.year,i.d.month,i.d.date,i.d.hour,i.d.minute,i.d.second,i.d.millisecond]=t};arguments.length?this.setDate(...arguments):this.now()};i.default=h}]).default}));
//# sourceMappingURL=PersianDate.min.js.map